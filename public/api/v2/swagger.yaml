swagger: '2.0'

info:
  title: ExCELL Broadcasting API v2
  version: 'v2'
  contact:
    name: Andr√© Rademacher
    url: http://www.entiretec.com
  description: 'The ExCELL broadcasting service'

schemes:
  - https

basePath: '/api/v2'

produces:
  - application/json

securityDefinitions:
  JWT:
    description: |
      For accessing the API a valid JSON Web Token must be passed in the 'Authorization' HTTP header. A valid token is generated by the Integration Layer.
      Example for Authorization header:

        JWT xxxxxx.yyyyyy.zzzzzz
    type: apiKey
    name: Authorization
    in: header

paths:

  /messages:

    post:

      tags:
        - messages
      security:
        - JWT: []

      summary: Sends a message via the selected channel to the contactId.
      description: |
        This method sends a message using a selected channel (e.g. "sms") to a contactId using content as message content.
        The token is currently needed to prevent misuse in certain environments, but will somewhere in the future be removed in favor of JWT token.
      parameters:
        - name: body
          in: body
          schema:
            $ref: '#/definitions/message'
          required: true
          description: POST body


      responses:

        201:
          description: The message has been successfully transferred to the service provider.

definitions:
  message:
    description: the message object
    properties:
      channel:
        type: string
        description: Currently, only the channel "sms" exists.
      contactId:
        type: string
        description: Identifies the target for the selected channel, e.g. the mobile phone number for the channel "sms".
      content:
        type: string
        description: The content that is sent to the contactId via the selected channel.
      token:
        type: string
        description: Currently used for authentication purposes.

    required:
      - channel
      - contactId
      - content
      - token

          